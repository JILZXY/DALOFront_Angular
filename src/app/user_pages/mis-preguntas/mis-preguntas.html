<div *ngIf="isLoading" class="loading-container">
  <p>Cargando tus preguntas...</p>
</div>

<section class="preguntas-container" *ngIf="!isLoading && preguntas.length > 0">

  <div class="pregunta-card" *ngFor="let p of preguntas">
    
    <div class="pregunta-header">
      <div class="materia-tag">
        <img [src]="p.materia.logo" [alt]="'Logo ' + p.materia.nombre" class="materia-logo">
        <span>{{ p.materia.nombre }}</span>
      </div>
      <div class="pregunta-meta">
        <span class="estado-tag" [ngClass]="p.estado === 'Respondida' ? 'respondida' : 'pendiente'">
          {{ p.estado }}
        </span>
        <span class="tiempo-publicado">{{ formatTimeAgo(p.fecha) }}</span>
      </div>
    </div>

    <div class="pregunta-body">
      <h3 class="pregunta-titulo">{{ p.titulo }}</h3>
      <p class="pregunta-descripcion">{{ p.descripcion }}</p>
    </div>

    <div class="pregunta-footer">
      <div class="interacciones">
        <span>{{ p.respuestasCount }} Respuestas</span>
        <span>0 Vistas</span> </div>
      <button class="btn-ver-comentarios" (click)="goToComentarios(p.id)">
        Ver Comentarios
        <img src="/Images/chat.png" alt="Comentarios">
      </button>
    </div>

  </div>
</section>

<div id="noPreguntasMessage" class="no-preguntas" *ngIf="!isLoading && preguntas.length === 0">
  <img src="/Images/Logo beige.png" alt="No hay preguntas">
  <h3>No tienes preguntas publicadas</h3>
  <p>Â¡Comienza publicando tu primera pregunta!</p>
  
  <button (click)="goToPublicar()" class="btn-crear-pregunta">
    Publicar Pregunta
  </button>
</div>