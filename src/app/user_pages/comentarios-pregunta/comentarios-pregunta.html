<section class="navegacion-section">
  <button class="btn-regresar" (click)="goBack()">
    <img src="/Images/regresar.png" alt="Regresar" class="icon-regresar">
    <span>Volver a Mis Preguntas</span>
  </button>
</section>

<div *ngIf="!isLoading && !errorMensaje && pregunta">

  <section class="pregunta-original">
    <div class="pregunta-container">
      <div class="pregunta-header">
        <div class="usuario-info">
          <div class="usuario-datos">
            <span class="usuario-nombre">{{ pregunta.usuario?.nombre || 'Usuario' }}</span>
            <span class="pregunta-tiempo">{{ formatTimeAgo(pregunta.fechaPublicacion) }}</span>
          </div>
        </div>
        <div class="materia-icon">
          <img src="/Images/logo_general.png" [alt]="pregunta.especialidades[0]?.nombreMateria || 'General'">
          <span>{{ pregunta.especialidades[0]?.nombreMateria || 'General' }}</span>
        </div>
      </div>
      <div class="pregunta-contenido">
        <h3>{{ pregunta.titulo }}</h3>
        <p>{{ pregunta.pregunta }}</p>
      </div>
    </div>
  </section>

  <section class="comentarios-section">
    <div class="comentarios-container">
        <div *ngIf="!isLoading && !errorMensaje && pregunta">

          <section class="comentarios-section">
            <h2>Respuestas de Abogados ({{ respuestas.length }})</h2>

            <div class="comentarios-container">

              <div class="no-comentarios" *ngIf="respuestas.length === 0">
                <img src="/Images/logo azul.png" alt="Sin comentarios">
                <h3>No hay respuestas aún</h3>
                <p>Sé paciente, los abogados pronto responderán a tu pregunta.</p>
              </div>

              <div class="comentario-card" *ngFor="let respuesta of respuestas" [class.mejor-respuesta]="false">
                <div class="comentario-header">
                  <div class="abogado-info">
                    <img src="/Images/logo azul.png" alt="Foto Abogado" class="abogado-foto">
                    <div class="abogado-datos">
                      <span class="abogado-nombre">{{ respuesta.abogado?.usuario?.nombre || 'Abogado' }}</span>
                      <span class="comentario-tiempo">{{ formatTimeAgo(respuesta.fechaRespuesta) }}</span>
                    </div>
                  </div>
                </div>

                <div class="comentario-contenido">
                  <p>{{ respuesta.respuesta }}</p>
                </div>

                <div class="comentario-footer">
                  <!-- Interactions removed per user request -->
                </div>

              </div>
            </div>
          </section>

        </div>